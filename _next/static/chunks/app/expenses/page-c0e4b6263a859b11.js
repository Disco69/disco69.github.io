(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{3579:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(5155),s=t(2115),n=t(5426),l=t(4552),i=t(7270);function d(){let e=(0,n.SO)(),{addExpense:r,updateExpense:t,deleteExpense:d}=(0,n.MY)(),{formatCurrency:c}=(0,i.H)(),[o,x]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[g,h]=(0,s.useState)("all"),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{o&&y.current&&y.current.scrollIntoView({behavior:"smooth",block:"start"})},[o]);let[b,p]=(0,s.useState)({name:"",amount:0,category:l.Lc.MISCELLANEOUS,dueDate:"",recurring:!1,frequency:l.jN.MONTHLY,description:"",priority:l.bx.MEDIUM,isActive:!0,isInstallment:!1,installmentMonths:1,installmentStartMonth:""}),v=(e,r)=>{p(t=>{let a={...t,[e]:r};if("isInstallment"===e&&!0===r&&!t.installmentStartMonth){let e=new Date;e.setMonth(e.getMonth()+1),a.installmentStartMonth=e.toISOString().slice(0,7)}return a})},j=async e=>{e.preventDefault();try{if(u){let e={id:u,...b};await t(e),m(null)}else await r(b),x(!1);p({name:"",amount:0,category:l.Lc.MISCELLANEOUS,dueDate:"",recurring:!1,frequency:l.jN.MONTHLY,description:"",priority:l.bx.MEDIUM,isActive:!0,isInstallment:!1,installmentMonths:1,installmentStartMonth:""})}catch(e){console.error("Failed to save expense:",e)}},k=e=>{p({name:e.name,amount:e.amount,category:e.category,frequency:e.frequency||l.jN.MONTHLY,description:e.description||"",dueDate:e.dueDate?e.dueDate.split("T")[0]:"",recurring:e.recurring,priority:e.priority,isActive:e.isActive,isInstallment:e.isInstallment||!1,installmentMonths:e.installmentMonths||1,installmentStartMonth:e.installmentStartMonth||""}),m(e.id),x(!0)},N=async e=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await d(e)}catch(e){console.error("Failed to delete expense:",e)}},f=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),w=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase().replace("_"," "),L=e=>{if(e.isInstallment&&e.installmentMonths)return e.amount/e.installmentMonths;if(!e.frequency)return 0;switch(e.frequency){case l.jN.DAILY:return 30.44*e.amount;case l.jN.WEEKLY:return 4.33*e.amount;case l.jN.BIWEEKLY:return 2.17*e.amount;case l.jN.MONTHLY:return e.amount;case l.jN.QUARTERLY:return e.amount/3;case l.jN.YEARLY:return e.amount/12;case l.jN.ONE_TIME:return 0;default:return e.amount}},C="all"===g?e.userPlan.expenses:e.userPlan.expenses.filter(e=>e.category===g),S=e.userPlan.expenses.filter(e=>e.isActive).reduce((e,r)=>e+L(r),0),E=Object.values(l.Lc).map(r=>({category:r,count:e.userPlan.expenses.filter(e=>e.category===r&&e.isActive).length,total:e.userPlan.expenses.filter(e=>e.category===r&&e.isActive).reduce((e,r)=>e+L(r),0)})).filter(e=>e.count>0),M=e.userPlan.expenses.filter(e=>e.recurring&&e.isActive),A=e=>{switch(e){case l.Lc.HOUSING:return"\uD83C\uDFE0";case l.Lc.FOOD:return"\uD83C\uDF7D️";case l.Lc.TRANSPORTATION:return"\uD83D\uDE97";case l.Lc.UTILITIES:return"⚡";case l.Lc.HEALTHCARE:return"\uD83C\uDFE5";case l.Lc.ENTERTAINMENT:return"\uD83C\uDFAC";case l.Lc.PERSONAL_CARE:return"\uD83D\uDC84";case l.Lc.EDUCATION:return"\uD83D\uDCDA";case l.Lc.SAVINGS:return"\uD83D\uDCB0";case l.Lc.DEBT_PAYMENTS:return"\uD83D\uDCB3";case l.Lc.INSURANCE:return"\uD83D\uDEE1️";case l.Lc.TRAVEL:return"✈️";case l.Lc.SHOPPING:return"\uD83D\uDECD️";case l.Lc.KIDS:return"\uD83D\uDC76";case l.Lc.MISCELLANEOUS:default:return"\uD83D\uDCE6"}};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"\uD83D\uDCB3 Expense Tracking"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Track your spending, categorize expenses, and manage your budget"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Monthly Expenses"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:c(S)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["from ",e.userPlan.expenses.filter(e=>e.isActive).length," ","active expenses"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v2a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Expenses"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.userPlan.expenses.length})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Recurring"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:M.length})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Categories"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:E.length})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Yearly Total"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c(12*S)})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Expenses"}),(0,a.jsxs)("select",{value:g,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",children:[(0,a.jsx)("option",{value:"all",children:"All Categories"}),Object.values(l.Lc).map(e=>(0,a.jsxs)("option",{value:e,children:[A(e)," ",f(e)]},e))]})]}),(0,a.jsxs)("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Expense"]})]}),o&&(0,a.jsxs)("div",{ref:y,className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border-2 border-blue-200 dark:border-blue-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:u?"Edit Expense":"Add New Expense"}),u&&(0,a.jsxs)("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:["\uD83D\uDCDD ",b.name||"Expense"]})]}),(0,a.jsxs)("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expense Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:b.name,onChange:e=>v("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",placeholder:"e.g., Rent, Groceries, Gas"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount (THB) *"}),(0,a.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:0===b.amount?"":b.amount,onChange:e=>v("amount",parseFloat(e.target.value)||0),onFocus:e=>{"0"===e.target.value&&(e.target.value="")},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),(0,a.jsx)("select",{required:!0,value:b.category,onChange:e=>v("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",children:Object.values(l.Lc).map(e=>(0,a.jsxs)("option",{value:e,children:[A(e)," ",f(e)]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date *"}),(0,a.jsx)("input",{type:"date",required:!0,value:b.dueDate,onChange:e=>v("dueDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),(0,a.jsx)("select",{value:b.priority,onChange:e=>v("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",children:Object.values(l.bx).map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:b.recurring,onChange:e=>v("recurring",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Recurring expense"})]})}),b.recurring&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Frequency"}),(0,a.jsx)("select",{value:b.frequency,onChange:e=>v("frequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",children:Object.values(l.jN).map(e=>(0,a.jsx)("option",{value:e,children:w(e)},e))})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:b.isInstallment,onChange:e=>v("isInstallment",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Pay in installments"})]})}),b.isInstallment&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Months"}),(0,a.jsx)("input",{type:"number",min:"1",max:"60",value:b.installmentMonths,onChange:e=>v("installmentMonths",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",placeholder:"12"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Starting Month"}),(0,a.jsx)("input",{type:"month",value:b.installmentStartMonth,onChange:e=>v("installmentStartMonth",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:b.description,onChange:e=>v("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",placeholder:"Additional details about this expense..."})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:b.isActive,onChange:e=>v("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active expense"})]})}),(0,a.jsxs)("div",{className:"md:col-span-2 flex gap-3",children:[(0,a.jsx)("button",{type:"submit",disabled:e.loading.isLoadingExpenses,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.loading.isLoadingExpenses?"Saving...":u?"Update Expense":"Add Expense"}),(0,a.jsx)("button",{type:"button",onClick:()=>{x(!1),m(null),p({name:"",amount:0,category:l.Lc.MISCELLANEOUS,dueDate:"",recurring:!1,frequency:l.jN.MONTHLY,description:"",priority:l.bx.MEDIUM,isActive:!0,isInstallment:!1,installmentMonths:1,installmentStartMonth:""})},className:"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:0===C.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 text-gray-300 dark:text-gray-600",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v2a2 2 0 002 2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"all"===g?"No expenses yet":"No ".concat(f(g).toLowerCase()," expenses")}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"all"===g?"Start by adding your first expense to track your spending":"Add your first ".concat(f(g).toLowerCase()," expense")}),(0,a.jsx)("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Expense"})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.map(e=>(0,a.jsxs)("div",{className:"p-6 transition-all duration-300 ".concat(u===e.id?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-lg":""),children:[u===e.id&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-blue-600 dark:text-blue-400 text-sm font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Currently editing this expense"]}),(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:A(e.category)}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:f(e.category)}),e.recurring&&(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Recurring"}),e.isInstallment&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:["Installment (",e.installmentMonths," months)"]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"),children:e.isActive?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Amount"}),(0,a.jsxs)("div",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:[c(e.amount)," ",e.frequency&&(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["/ ",w(e.frequency)]})]}),e.isInstallment&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c(e.amount/(e.installmentMonths||1))," ","per month"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monthly Equivalent"}),(0,a.jsx)("div",{className:"text-lg font-medium text-red-600 dark:text-red-400",children:c(L(e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.isInstallment?"Start Date":"Due Date"}),(0,a.jsx)("div",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:e.isInstallment&&e.installmentStartMonth?new Date(e.installmentStartMonth+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"}):e.dueDate?new Date(e.dueDate).toLocaleDateString():"Not set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Type"}),(0,a.jsx)("div",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:e.isInstallment?"Installment (".concat(e.installmentMonths," months)"):e.recurring?"Recurring":"One-time"})]})]}),e.description&&(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:e.description})]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>k(e),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit expense",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsx)("button",{onClick:()=>N(e.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete expense",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},e.id))})}),e.error.expenseError&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:e.error.expenseError})]})]})})]})}},4548:(e,r,t)=>{Promise.resolve().then(t.bind(t,3579))},5426:(e,r,t)=>{"use strict";t.d(r,{MY:()=>a.useFinancialActions,SO:()=>a.useFinancialState,k_:()=>a.useFinancialContext});var a=t(6930);t(3818),t(4789),t(4479)},7270:(e,r,t)=>{"use strict";t.d(r,{CurrencyProvider:()=>i,H:()=>d,V:()=>n});var a=t(5155),s=t(2115);let n={USD:{code:"USD",symbol:"$",name:"US Dollar",locale:"en-US"},EUR:{code:"EUR",symbol:"€",name:"Euro",locale:"en-US"},GBP:{code:"GBP",symbol:"\xa3",name:"British Pound",locale:"en-GB"},JPY:{code:"JPY",symbol:"\xa5",name:"Japanese Yen",locale:"ja-JP"},THB:{code:"THB",symbol:"฿",name:"Thai Baht",locale:"th-TH"},AUD:{code:"AUD",symbol:"A$",name:"Australian Dollar",locale:"en-AU"},CAD:{code:"CAD",symbol:"C$",name:"Canadian Dollar",locale:"en-CA"},CHF:{code:"CHF",symbol:"Fr",name:"Swiss Franc",locale:"de-CH"},CNY:{code:"CNY",symbol:"\xa5",name:"Chinese Yuan",locale:"zh-CN"},SGD:{code:"SGD",symbol:"S$",name:"Singapore Dollar",locale:"en-SG"},INR:{code:"INR",symbol:"₹",name:"Indian Rupee",locale:"en-IN"},KRW:{code:"KRW",symbol:"₩",name:"South Korean Won",locale:"ko-KR"}},l=(0,s.createContext)(void 0);function i(e){let{children:r}=e,[t,i]=(0,s.useState)("USD"),[d,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("finance-planner-currency");e&&n[e]&&i(e),c(!0)},[]),(0,s.useEffect)(()=>{d&&localStorage.setItem("finance-planner-currency",t)},[t,d]);let o=()=>n[t];return(0,a.jsx)(l.Provider,{value:{currency:t,setCurrency:e=>{i(e)},formatCurrency:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=o();return r&&Math.abs(e)>=1e6?new Intl.NumberFormat(t.locale,{style:"currency",currency:t.code,notation:"compact",minimumFractionDigits:0,maximumFractionDigits:1}).format(e):new Intl.NumberFormat(t.locale,{style:"currency",currency:t.code,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)},formatNumber:e=>{let r=o();return new Intl.NumberFormat(r.locale,{minimumFractionDigits:0,maximumFractionDigits:2}).format(e)},parseCurrency:e=>{let r=parseFloat(e.replace(/[฿$€£¥₹₩Fr,\s]/g,"").replace(/[A-Z]/g,"").replace(/[^\d.-]/g,""));return isNaN(r)?0:r},getCurrencyInfo:o},children:r})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[930,441,684,358],()=>r(4548)),_N_E=e.O()}]);