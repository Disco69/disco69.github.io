(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6288:(e,t,a)=>{Promise.resolve().then(a.bind(a,6734))},6734:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var n=a(5155),s=a(2115),r=a(6874),i=a.n(r),l=a(5426),o=a(4552),c=a(2401),d=a(7270),m=a(4251),x=a(9999),g=a(3540),u=a(3504),h=a(4754),y=a(6025),p=a(2071),b=a(5755),f=a(4683),N=a(919),v=a(2366),j=a(2733);function k(e){let{userPlan:t,className:a=""}=e,[r,i]=(0,s.useState)("12"),[l,o]=(0,s.useState)(!0),[c,m]=(0,s.useState)(null),{formatCurrency:x}=(0,d.H)(),k=e=>new Date(e+"-01").toLocaleDateString("th-TH",{year:"2-digit",month:"short"}),A=(0,s.useMemo)(()=>{if(!t)return[];let e=t.forecastConfig||{startingBalance:t.currentBalance||0,startDate:new Date().toISOString().slice(0,7),months:parseInt(r),includeGoalContributions:!0,conservativeMode:!1,updatedAt:new Date().toISOString()},a={months:parseInt(r),startingBalance:e.startingBalance,startDate:e.startDate?new Date(e.startDate+"-01"):new Date,includeGoalContributions:e.includeGoalContributions,conservativeMode:e.conservativeMode};return(0,j.X0)(t,a).monthlyForecasts.map(e=>{let t=e.income-e.expenses;return{month:e.month,monthLabel:k(e.month),income:e.income,expenses:e.expenses,netIncome:t,surplus:t>0?t:0,deficit:t<0?Math.abs(t):0}})},[t,r]),D=e=>c?c===e?1:.3:1,E=e=>c?c===e?3:1:2;return(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 ".concat(a),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"\uD83D\uDCC8 Income vs Expenses Trend"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track your financial flow over time"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Period:"}),(0,n.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"px-3 py-1 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm",children:[(0,n.jsx)("option",{value:"6",children:"6 Months"}),(0,n.jsx)("option",{value:"12",children:"12 Months"}),(0,n.jsx)("option",{value:"24",children:"24 Months"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"showProjection",checked:l,onChange:e=>o(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,n.jsx)("label",{htmlFor:"showProjection",className:"text-sm text-gray-600 dark:text-gray-400",children:"Show Projection"})]})]})]}),(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsxs)(u.b,{data:A,margin:{top:5,right:30,left:20,bottom:5},children:[(0,n.jsx)(h.d,{strokeDasharray:"3 3",opacity:.3}),(0,n.jsx)(y.W,{dataKey:"monthLabel",tick:{fontSize:12},tickLine:{stroke:"#666"}}),(0,n.jsx)(p.h,{tickFormatter:e=>x(e),tick:{fontSize:12},tickLine:{stroke:"#666"}}),(0,n.jsx)(b.m,{content:(0,n.jsx)(e=>{let{active:t,payload:a}=e;if(t&&a&&a.length){let e=a[0].payload;return(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[(0,n.jsx)("p",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.monthLabel}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"\uD83D\uDCB0 Income:"}),(0,n.jsx)("span",{className:"font-semibold text-green-600 dark:text-green-400",children:x(e.income)})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-red-600 dark:text-red-400",children:"\uD83D\uDCB8 Expenses:"}),(0,n.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:x(e.expenses)})]}),(0,n.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"\uD83D\uDCCA Net:"}),(0,n.jsx)("span",{className:"font-semibold ".concat(e.netIncome>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:x(e.netIncome)})]}),e.surplus>0&&(0,n.jsxs)("div",{className:"flex justify-between items-center text-xs text-blue-600 dark:text-blue-400",children:[(0,n.jsx)("span",{children:"\uD83D\uDCC8 Surplus:"}),(0,n.jsx)("span",{children:x(e.surplus)})]}),e.deficit>0&&(0,n.jsxs)("div",{className:"flex justify-between items-center text-xs text-red-600 dark:text-red-400",children:[(0,n.jsx)("span",{children:"\uD83D\uDCC9 Deficit:"}),(0,n.jsx)("span",{children:x(e.deficit)})]})]})]})]})}return null},{})}),(0,n.jsx)(f.s,{onClick:e=>{e&&e.dataKey&&m(c===e.dataKey?null:e.dataKey)},wrapperStyle:{cursor:"pointer"}}),(0,n.jsx)(N.e,{y:0,stroke:"#666",strokeDasharray:"2 2"}),(0,n.jsx)(v.N,{type:"monotone",dataKey:"income",stroke:"#10B981",strokeWidth:E("income"),opacity:D("income"),name:"\uD83D\uDCB0 Income",dot:{fill:"#10B981",strokeWidth:2,r:4},activeDot:{r:6,fill:"#10B981"}}),(0,n.jsx)(v.N,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:E("expenses"),opacity:D("expenses"),name:"\uD83D\uDCB8 Expenses",dot:{fill:"#EF4444",strokeWidth:2,r:4},activeDot:{r:6,fill:"#EF4444"}}),(0,n.jsx)(v.N,{type:"monotone",dataKey:"netIncome",stroke:"#3B82F6",strokeWidth:E("netIncome"),opacity:D("netIncome"),name:"\uD83D\uDCCA Net Income",dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,fill:"#3B82F6"},strokeDasharray:"5 5"})]})})}),(0,n.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:x(A.reduce((e,t)=>e+t.income,0)/A.length)}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Monthly Income"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:x(A.reduce((e,t)=>e+t.expenses,0)/A.length)}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Monthly Expenses"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold ".concat(A.reduce((e,t)=>e+t.netIncome,0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:x(A.reduce((e,t)=>e+t.netIncome,0)/A.length)}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Net Income"})]})]}),(0,n.jsx)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDCA1 Click on legend items to focus on specific lines • Hover over data points for details"})]})}var A=a(3401),D=a(6690),E=a(4811),S=a(170),I=a(8357);let w={onTrack:"#10B981",behindSchedule:"#EF4444",completed:"#10B981",openEnded:"#8B5CF6"},C={[o.bx.CRITICAL]:"#DC2626",[o.bx.HIGH]:"#EA580C",[o.bx.MEDIUM]:"#D97706",[o.bx.LOW]:"#65A30D"};function T(e){let{userPlan:t,className:a=""}=e,[r,i]=(0,s.useState)("progress"),[c,m]=(0,s.useState)(null),[x,u]=(0,s.useState)(!0);(0,l.SO)();let{formatCurrency:f}=(0,d.H)(),N=(0,s.useMemo)(()=>{if(!(null==t?void 0:t.goals))return[];let e=(0,j.X0)(t,{months:12,includeGoalContributions:!0,conservativeMode:!1});return(x?t.goals.filter(e=>e.isActive):t.goals).map(t=>{let a=e.goalProgress.find(e=>e.id===t.id),n=t.goalType===o.IW.FIXED_AMOUNT?Math.min(100,t.currentAmount/t.targetAmount*100):0,s=new Date(t.targetDate),r=new Date,i=Math.max(0,(s.getFullYear()-r.getFullYear())*12+(s.getMonth()-r.getMonth()));return{id:t.id,name:t.name,currentAmount:t.currentAmount,targetAmount:t.targetAmount,progressPercent:n,remainingAmount:Math.max(0,t.targetAmount-t.currentAmount),estimatedCompletionMonth:null==a?void 0:a.estimatedCompletionMonth,isOnTrack:(null==a?void 0:a.onTrack)||!1,priority:t.priority,goalType:t.goalType,monthsUntilTarget:i,averageMonthlyAllocation:(null==a?void 0:a.averageMonthlyAllocation)||0}})},[t,x]),v=e=>e?new Date(e+"-01").toLocaleDateString("th-TH",{year:"numeric",month:"short"}):"N/A",k=e=>e.goalType===o.IW.OPEN_ENDED?w.openEnded:e.progressPercent>=100?w.completed:e.isOnTrack?w.onTrack:w.behindSchedule,T=e=>{let{active:t,payload:a,label:s}=e;if(t&&a&&a.length){let e=a[0].payload;return(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-w-sm",children:[(0,n.jsx)("p",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.name}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress:"}),(0,n.jsxs)("span",{className:"font-semibold",children:[e.progressPercent.toFixed(1),"%"]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current:"}),(0,n.jsx)("span",{className:"font-semibold text-green-600 dark:text-green-400",children:f(e.currentAmount)})]}),e.goalType===o.IW.FIXED_AMOUNT&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Target:"}),(0,n.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:f(e.targetAmount)})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Remaining:"}),(0,n.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:f(e.remainingAmount)})]})]}),(0,n.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),(0,n.jsx)("span",{className:"font-semibold ".concat(e.isOnTrack?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:e.isOnTrack?"On Track":"Behind Schedule"})]}),e.estimatedCompletionMonth&&(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Completion:"}),(0,n.jsx)("span",{className:"text-sm",children:v(e.estimatedCompletionMonth)})]})]})]})]})}return null};return(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 ".concat(a),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"\uD83C\uDFAF Goal Progress Tracking"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monitor your financial goals and completion forecasts"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"showOnlyActive",checked:x,onChange:e=>u(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,n.jsx)("label",{htmlFor:"showOnlyActive",className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Only"})]}),(0,n.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,n.jsx)("button",{onClick:()=>i("progress"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("progress"===r?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83D\uDCCA Progress"}),(0,n.jsx)("button",{onClick:()=>i("timeline"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("timeline"===r?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83D\uDCC5 Timeline"}),(0,n.jsx)("button",{onClick:()=>i("allocation"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("allocation"===r?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83E\uDD67 Allocation"})]})]})]}),N.length>0?(0,n.jsxs)(n.Fragment,{children:["progress"===r&&(0,n.jsx)(()=>(0,n.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,n.jsxs)("div",{className:"p-4 border rounded-lg transition-all cursor-pointer ".concat(c===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>m(c===e.id?null:e.id),children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:C[e.priority]+"20",color:C[e.priority]},children:e.priority}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.isOnTrack?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:e.isOnTrack?"On Track":"Behind"})]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 mb-2",children:[(0,n.jsxs)("span",{children:[f(e.currentAmount)," /"," ",f(e.targetAmount)]}),(0,n.jsxs)("span",{children:[e.progressPercent.toFixed(1),"%"]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2",children:(0,n.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.progressPercent),"%"),backgroundColor:k(e)}})}),c===e.id&&(0,n.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600 text-sm space-y-1",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly Allocation:"}),(0,n.jsx)("span",{className:"font-medium",children:f(e.averageMonthlyAllocation)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Months to Target:"}),(0,n.jsx)("span",{className:"font-medium",children:e.monthsUntilTarget})]}),e.estimatedCompletionMonth&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Est. Completion:"}),(0,n.jsx)("span",{className:"font-medium",children:v(e.estimatedCompletionMonth)})]})]})]},e.id))}),{}),"timeline"===r&&(0,n.jsx)(()=>(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsxs)(A.E,{data:N,margin:{top:20,right:30,left:20,bottom:60},children:[(0,n.jsx)(h.d,{strokeDasharray:"3 3",opacity:.3}),(0,n.jsx)(y.W,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),(0,n.jsx)(p.h,{tickFormatter:e=>"".concat(e,"%"),tick:{fontSize:12}}),(0,n.jsx)(b.m,{content:(0,n.jsx)(T,{})}),(0,n.jsx)(D.y,{dataKey:"progressPercent",radius:[4,4,0,0],children:N.map((e,t)=>(0,n.jsx)(E.f,{fill:k(e)},"cell-".concat(t)))})]})})}),{}),"allocation"===r&&(0,n.jsx)(()=>{let e=N.filter(e=>e.averageMonthlyAllocation>0).map(e=>({name:e.name,value:e.averageMonthlyAllocation,color:k(e)}));return(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsxs)(S.r,{children:[(0,n.jsx)(I.F,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return"".concat(t,": ").concat((100*(a||0)).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((e,t)=>(0,n.jsx)(E.f,{fill:e.color},"cell-".concat(t)))}),(0,n.jsx)(b.m,{formatter:e=>[f(e),"Monthly Allocation"]})]})})})},{}),(0,n.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:N.length}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Goals"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:N.filter(e=>e.isOnTrack).length}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"On Track"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:f(N.reduce((e,t)=>e+t.currentAmount,0))}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Saved"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:f(N.reduce((e,t)=>e+t.averageMonthlyAllocation,0))}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Allocation"})]})]})]}):(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFAF"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Goals Yet"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Create your first financial goal to see progress tracking"})]}),(0,n.jsx)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDCA1 Click on goals for detailed information • Use view modes to see different perspectives"})]})}var L=a(4948);let R={[o.Lc.HOUSING]:"#EF4444",[o.Lc.TRANSPORTATION]:"#F97316",[o.Lc.FOOD]:"#EAB308",[o.Lc.UTILITIES]:"#22C55E",[o.Lc.INSURANCE]:"#06B6D4",[o.Lc.HEALTHCARE]:"#3B82F6",[o.Lc.ENTERTAINMENT]:"#8B5CF6",[o.Lc.PERSONAL_CARE]:"#EC4899",[o.Lc.EDUCATION]:"#14B8A6",[o.Lc.DEBT_PAYMENTS]:"#F59E0B",[o.Lc.SAVINGS]:"#10B981",[o.Lc.TRAVEL]:"#84CC16",[o.Lc.SHOPPING]:"#F472B6",[o.Lc.KIDS]:"#A78BFA",[o.Lc.MISCELLANEOUS]:"#6B7280"},M={[o.Lc.HOUSING]:"\uD83C\uDFE0",[o.Lc.TRANSPORTATION]:"\uD83D\uDE97",[o.Lc.FOOD]:"\uD83C\uDF7D️",[o.Lc.UTILITIES]:"\uD83D\uDCA1",[o.Lc.INSURANCE]:"\uD83D\uDEE1️",[o.Lc.HEALTHCARE]:"\uD83C\uDFE5",[o.Lc.ENTERTAINMENT]:"\uD83C\uDFAC",[o.Lc.PERSONAL_CARE]:"\uD83D\uDC85",[o.Lc.EDUCATION]:"\uD83D\uDCDA",[o.Lc.DEBT_PAYMENTS]:"\uD83D\uDCB3",[o.Lc.SAVINGS]:"\uD83D\uDCB0",[o.Lc.TRAVEL]:"✈️",[o.Lc.SHOPPING]:"\uD83D\uDECD️",[o.Lc.KIDS]:"\uD83D\uDC76",[o.Lc.MISCELLANEOUS]:"\uD83D\uDCE6"};function O(e){var t;let{userPlan:a,className:r=""}=e,{formatCurrency:i}=(0,d.H)(),[l,c]=(0,s.useState)("donut"),[m,x]=(0,s.useState)(null),[u,f]=(0,s.useState)(!1),N=(e,t)=>{switch(t){case o.jN.DAILY:return 30.44*e;case o.jN.WEEKLY:return 4.33*e;case o.jN.BIWEEKLY:return 2.17*e;case o.jN.MONTHLY:return e;case o.jN.QUARTERLY:return e/3;case o.jN.YEARLY:return e/12;case o.jN.ONE_TIME:default:return e}},v=(0,s.useMemo)(()=>{if(!(null==a?void 0:a.expenses))return[];let e=u?a.expenses:a.expenses.filter(e=>e.isActive),t=new Map;e.forEach(e=>{let a=N(e.amount,e.frequency||o.jN.MONTHLY);t.has(e.category)||t.set(e.category,{category:e.category,amount:0,percentage:0,count:0,expenses:[],color:R[e.category]});let n=t.get(e.category);n.amount+=a,n.count+=1,n.expenses.push({id:e.id,name:e.name,amount:e.amount,frequency:e.frequency||o.jN.MONTHLY,monthlyAmount:a})});let n=Array.from(t.values()).reduce((e,t)=>e+t.amount,0);return Array.from(t.values()).map(e=>({...e,percentage:n>0?e.amount/n*100:0})).sort((e,t)=>t.amount-e.amount)},[a,u]),j=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase().replace("_"," "),k=e=>{let{active:t,payload:a}=e;if(t&&a&&a.length>0){let e=a[0].payload;return(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i(e.value)})]})}return null},w=e=>{let{cx:t,cy:a,midAngle:s,innerRadius:r,outerRadius:i,percent:l}=e;if(l<.05)return null;let o=Math.PI/180,c=r+(i-r)*.5,d=t+c*Math.cos(-s*o),m=a+c*Math.sin(-s*o);return(0,n.jsx)("text",{x:d,y:m,fill:"white",textAnchor:d>t?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:"".concat((100*l).toFixed(0),"%")})};return(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 ".concat(r),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"\uD83E\uDD67 Expense Category Breakdown"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analyze your spending distribution across categories"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"showInactive",checked:u,onChange:e=>f(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,n.jsx)("label",{htmlFor:"showInactive",className:"text-sm text-gray-600 dark:text-gray-400",children:"Include Inactive"})]}),(0,n.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,n.jsx)("button",{onClick:()=>c("pie"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("pie"===l?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83E\uDD67 Pie"}),(0,n.jsx)("button",{onClick:()=>c("donut"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("donut"===l?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83C\uDF69 Donut"}),(0,n.jsx)("button",{onClick:()=>c("bar"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("bar"===l?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83D\uDCCA Bar"}),(0,n.jsx)("button",{onClick:()=>c("treemap"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("treemap"===l?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"\uD83D\uDDC2️ Tree"})]})]})]}),v.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"lg:col-span-2",children:["pie"===l&&(0,n.jsx)(()=>(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsxs)(S.r,{children:[(0,n.jsx)(I.F,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:w,outerRadius:120,fill:"#8884d8",dataKey:"amount",onClick:e=>x(m===e.category?null:e.category),children:v.map((e,t)=>(0,n.jsx)(E.f,{fill:e.color,stroke:m===e.category?"#000":"none",strokeWidth:2*(m===e.category),style:{cursor:"pointer"}},"cell-".concat(t)))}),(0,n.jsx)(b.m,{content:(0,n.jsx)(k,{})})]})})}),{}),"donut"===l&&(0,n.jsx)(()=>(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsxs)(S.r,{children:[(0,n.jsx)(I.F,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:w,outerRadius:120,innerRadius:60,fill:"#8884d8",dataKey:"amount",onClick:e=>x(m===e.category?null:e.category),children:v.map((e,t)=>(0,n.jsx)(E.f,{fill:e.color,stroke:m===e.category?"#000":"none",strokeWidth:2*(m===e.category),style:{cursor:"pointer"}},"cell-".concat(t)))}),(0,n.jsx)(b.m,{content:(0,n.jsx)(k,{})})]})})}),{}),"bar"===l&&(0,n.jsx)(()=>(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsxs)(A.E,{data:v,margin:{top:20,right:30,left:20,bottom:60},children:[(0,n.jsx)(h.d,{strokeDasharray:"3 3",opacity:.3}),(0,n.jsx)(y.W,{dataKey:"category",angle:-45,textAnchor:"end",height:80,tick:{fontSize:10},tickFormatter:j}),(0,n.jsx)(p.h,{tickFormatter:e=>i(e),tick:{fontSize:12}}),(0,n.jsx)(b.m,{content:(0,n.jsx)(k,{}),labelFormatter:e=>e,cursor:{fill:"rgba(0, 0, 0, 0.05)"},labelStyle:{color:"inherit"},itemStyle:{color:"inherit"}}),(0,n.jsx)(D.y,{dataKey:"amount",onClick:e=>{var t;let a=null==e||null==(t=e.payload)?void 0:t.category;a&&x(m===a?null:a)},style:{cursor:"pointer"},children:v.map((e,t)=>(0,n.jsx)(E.f,{fill:e.color,stroke:m===e.category?"#000":"none",strokeWidth:2*(m===e.category)},"cell-".concat(t)))})]})})}),{}),"treemap"===l&&(0,n.jsx)(()=>{let e=v.map(e=>({name:j(e.category),value:e.amount,fill:e.color}));return(0,n.jsx)("div",{className:"h-80",children:(0,n.jsx)(g.u,{width:"100%",height:"100%",children:(0,n.jsx)(L.V_,{data:e,dataKey:"value",stroke:"#fff",fill:"#8884d8",children:(0,n.jsx)(b.m,{formatter:e=>[i(e),"Amount"]})})})})},{})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Categories (",v.length,")"]}),(0,n.jsx)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:v.map(e=>(0,n.jsxs)("div",{className:"p-3 rounded-lg cursor-pointer transition-all ".concat(m===e.category?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-300 dark:border-blue-700":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"),onClick:()=>x(m===e.category?null:e.category),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-lg",children:M[e.category]}),(0,n.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:j(e.category)})]}),(0,n.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"%"]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,n.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[e.count," expenses"]}),(0,n.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:i(e.amount)})]})]},e.category))})]})]}),m&&(0,n.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)("span",{className:"text-2xl",children:M[m]}),(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[j(m)," Details"]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null==(t=v.find(e=>e.category===m))?void 0:t.expenses.map(e=>(0,n.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsx)("h5",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm",children:e.name}),(0,n.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:e.frequency})]}),(0,n.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Original:"}),(0,n.jsx)("span",{children:i(e.amount)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly:"}),(0,n.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:i(e.monthlyAmount)})]})]})]},e.id))})]}),(0,n.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:i(v.reduce((e,t)=>e+t.amount,0))}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Monthly"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:v.length}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Categories"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:v.reduce((e,t)=>e+t.count,0)}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expenses"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:i(v.reduce((e,t)=>e+t.amount,0)/Math.max(1,v.length))}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg per Category"})]})]})]}):(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCB8"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Expenses Yet"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Add some expenses to see your category breakdown"})]}),(0,n.jsx)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDCA1 Click on chart segments or category list to drill down • Switch views to see different perspectives"})]})}class P{onLoadingChange(e){return this.loadingCallbacks.push(e),()=>{this.loadingCallbacks=this.loadingCallbacks.filter(t=>t!==e)}}setLoading(e){this.isLoading=e,this.loadingCallbacks.forEach(t=>t(e))}getLoadingState(){return this.isLoading}createCacheKey(e){var t,a,n;return btoa(JSON.stringify({query:e.query,analysisType:e.analysisType,model:e.model,balance:e.userPlan.currentBalance,incomeCount:(null==(t=e.userPlan.income)?void 0:t.length)||0,expenseCount:(null==(a=e.userPlan.expenses)?void 0:a.length)||0,goalCount:(null==(n=e.userPlan.goals)?void 0:n.length)||0}))}isCacheValid(e){return Date.now()-e<this.cacheTimeout}async getServiceStatus(){try{let e=await fetch("".concat(this.baseUrl,"/analyze"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)return console.error("Failed to get AI service status:",e.status),null;return(await e.json()).data}catch(e){return console.error("Error getting AI service status:",e),null}}async analyzeFinancialData(e){try{let t=this.createCacheKey(e),a=this.cache.get(t);if(a&&this.isCacheValid(a.timestamp))return console.log("Returning cached AI analysis result"),a.data;this.setLoading(!0);let n=await fetch("".concat(this.baseUrl,"/analyze"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await n.json();if(!n.ok)return{success:!1,error:s.error||"Failed to analyze financial data"};return this.cache.set(t,{data:s,timestamp:Date.now()}),s}catch(e){return console.error("Error analyzing financial data:",e),{success:!1,error:e instanceof Error?e.message:"Network error occurred"}}finally{this.setLoading(!1)}}async quickAnalysis(e,t){let a={overview:"Give me a quick overview of my financial situation and any immediate concerns.",savings:"How can I improve my savings rate and build my emergency fund?",expenses:"What expenses should I focus on reducing to improve my financial health?",goals:"How am I doing with my financial goals and what should I prioritize?",budget:"Is my budget balanced and sustainable? What adjustments should I make?",investment:"Based on my financial situation, what investment strategies should I consider?"},n=a[t]||a.overview;return this.analyzeFinancialData({userPlan:e,query:n,analysisType:t})}async generateInsights(e){var t,a,n;let s=(null==(t=e.income)?void 0:t.reduce((e,t)=>e+t.amount,0))||0,r=(null==(a=e.expenses)?void 0:a.reduce((e,t)=>e+t.amount,0))||0,i=(null==(n=e.goals)?void 0:n.filter(e=>e.isActive))||[],l=s>0?(s-r)/s*100:0,o="Analyze my financial situation and provide personalized insights. ";return l<10?o+="My savings rate is low at ".concat(l.toFixed(1),"%. "):l>30&&(o+="I have a good savings rate of ".concat(l.toFixed(1),"%. ")),0===i.length?o+="I don't have any active financial goals set. ":o+="I have ".concat(i.length," active financial goals. "),e.currentBalance<3*r&&(o+="My emergency fund might be insufficient. "),o+="Please provide specific, actionable advice tailored to my situation.",this.analyzeFinancialData({userPlan:e,query:o,analysisType:"general"})}async askAboutGoal(e,t,a){var n;let s=null==(n=e.goals)?void 0:n.find(e=>e.name.toLowerCase().includes(t.toLowerCase()));if(!s)return{success:!1,error:'Goal "'.concat(t,'" not found')};let r=s.targetAmount>0?s.currentAmount/s.targetAmount*100:0,i='How am I doing with my "'.concat(s.name,"\" goal? What's the best strategy to reach it?"),l="Goal: ".concat(s.name,", Target: $").concat(s.targetAmount,", Current: $").concat(s.currentAmount,", Progress: ").concat(r.toFixed(1),"%, Target Date: ").concat(s.targetDate);return this.analyzeFinancialData({userPlan:e,query:a||i,context:l,analysisType:"general"})}async compareScenarios(e,t,a){let n="What would happen if ".concat(t,"? ").concat(a);return this.analyzeFinancialData({userPlan:e,query:n,context:"This is a scenario analysis. Please compare the current situation with the proposed changes and highlight the key differences, benefits, and risks.",analysisType:"general"})}async getOptimizationSuggestions(e){return this.analyzeFinancialData({userPlan:e,query:"Please analyze my financial data and provide specific optimization suggestions. Focus on actionable steps I can take to improve my financial health, reduce expenses, increase savings, and achieve my goals faster.",analysisType:"general"})}clearCache(){this.cache.clear()}getCacheSize(){return this.cache.size}cleanCache(){for(let[e,t]of this.cache.entries())this.isCacheValid(t.timestamp)||this.cache.delete(e)}estimateRequestCost(e){return Math.max(.001,(500+e.length/4)*1e-6)}validateRequest(e){let t=[];return e.query&&0!==e.query.trim().length||t.push("Query is required"),e.query&&e.query.length>5e3&&t.push("Query is too long (maximum 5000 characters)"),e.userPlan||t.push("User plan is required"),t}constructor(){this.baseUrl="/api/ai",this.cache=new Map,this.cacheTimeout=3e5,this.isLoading=!1,this.loadingCallbacks=[]}}let F=new P;var X=a(9509);let G={mode:X.env.NEXT_PUBLIC_AI_MODE||"prompt",enableApiMode:"true"===X.env.NEXT_PUBLIC_ENABLE_API_MODE};function U(e){var t,a,r;let{className:i=""}=e,c=(0,l.SO)(),[d,m]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[u,h]=(0,s.useState)(""),[y,p]=(0,s.useState)(null),[b,f]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[j,k]=(0,s.useState)(null),[A,D]=(0,s.useState)("quick"),[E,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"api"===G.mode&&G.enableApiMode&&I()},[]),(0,s.useEffect)(()=>{if("api"===G.mode&&G.enableApiMode)return F.onLoadingChange(g)},[]);let I=async()=>{let e=await F.getServiceStatus();k(e),(null==e?void 0:e.defaultModel)&&v(e.defaultModel)},w=()=>{if(!c.userPlan)return"";let e=c.userPlan.income.filter(e=>e.isActive),t=c.userPlan.expenses.filter(e=>e.isActive),a=c.userPlan.goals.filter(e=>e.isActive),n=e.reduce((e,t)=>{let a=t.frequency===o.jN.MONTHLY?1:t.frequency===o.jN.YEARLY?1/12:t.frequency===o.jN.WEEKLY?4.33:1;return e+t.amount*a},0),s=t.reduce((e,t)=>{if(!t.recurring)return e;let a=t.frequency===o.jN.MONTHLY?1:t.frequency===o.jN.YEARLY?1/12:t.frequency===o.jN.WEEKLY?4.33:1;return e+t.amount*a},0);return"\nFINANCIAL OVERVIEW:\n- Current Balance: $".concat(c.userPlan.currentBalance.toLocaleString(),"\n- Monthly Income: $").concat(n.toLocaleString()," (from ").concat(e.length," sources)\n- Monthly Expenses: $").concat(s.toLocaleString()," (from ").concat(t.length," categories)\n- Net Monthly: $").concat((n-s).toLocaleString(),"\n- Active Goals: ").concat(a.length," goals\n\nINCOME SOURCES:\n").concat(e.map(e=>"- ".concat(e.name,": $").concat(e.amount.toLocaleString()," (").concat(e.frequency,")")).join("\n"),"\n\nEXPENSE CATEGORIES:\n").concat(t.slice(0,10).map(e=>"- ".concat(e.name,": $").concat(e.amount.toLocaleString()," (").concat(e.category,")")).join("\n"),"\n\nFINANCIAL GOALS:\n").concat(a.map(e=>{let t=(e.currentAmount/e.targetAmount*100).toFixed(1);return"- ".concat(e.name,": $").concat(e.currentAmount.toLocaleString()," / $").concat(e.targetAmount.toLocaleString()," (").concat(t,"% complete)")}).join("\n"),"\n    ").trim()},C=e=>{let t=w(),a={overview:"# FINANCIAL HEALTH ANALYSIS REQUEST\n\nYou are a certified financial planner with 15+ years of international experience. Analyze the financial data below using universal financial planning frameworks and provide actionable insights applicable to any country's financial system.\n\n## FINANCIAL DATA:\n".concat(t,"\n\n## ANALYSIS FRAMEWORK:\nUse the following systematic approach:\n\n### Step 1: Financial Health Score (1-10 scale)\n- **Liquidity Analysis**: Cash flow ratio, emergency fund coverage\n- **Debt-to-Income Ratio**: Calculate and assess risk level (universal benchmark: <30% total debt)\n- **Savings Rate**: Compare to recommended 15-20% benchmark (globally applicable)\n- **Financial Stability**: Based on current data patterns and income consistency\n\n### Step 2: Risk Assessment Matrix\nIdentify and categorize risks:\n- **HIGH RISK**: Issues requiring immediate attention\n- **MEDIUM RISK**: Areas for improvement within 3-6 months  \n- **LOW RISK**: Long-term optimization opportunities\n\n### Step 3: Actionable Recommendations\nFor each identified issue, provide:\n- **Specific Action**: What exactly to do\n- **Timeline**: When to implement (immediate/30 days/90 days)\n- **Expected Impact**: Quantify the improvement ($amount or %)\n- **Priority Level**: High/Medium/Low\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83D\uDCCA FINANCIAL HEALTH SCORE: [X/10]\n\n\uD83D\uDD0D KEY FINDINGS:\n• [Most critical insight with specific numbers]\n• [Second most important finding]\n• [Third key observation]\n\n⚠️ RISK ASSESSMENT:\nHIGH: [Specific issues requiring immediate action]\nMEDIUM: [Areas for 3-6 month improvement]\nLOW: [Long-term optimization opportunities]\n\n\uD83C\uDFAF TOP 3 PRIORITY ACTIONS:\n1. [Specific action] - Timeline: [X days] - Impact: [$X/month saved or X% improvement]\n2. [Specific action] - Timeline: [X days] - Impact: [$X/month saved or X% improvement]  \n3. [Specific action] - Timeline: [X days] - Impact: [$X/month saved or X% improvement]\n\n\uD83D\uDCA1 NEXT STEPS:\n[Specific 30-day action plan with measurable milestones]\n```\n\n**CONSTRAINTS:**\n- Use only the provided financial data\n- Provide specific dollar amounts and percentages\n- No generic advice - all recommendations must be personalized\n- Include universal financial benchmarks applicable to any country\n- Consider different financial systems and local banking practices"),savings:"# SAVINGS OPTIMIZATION ANALYSIS\n\nYou are a savings specialist with international experience in emergency fund planning and savings optimization. Analyze the savings strategy using universal financial principles applicable to any country's banking system.\n\n## FINANCIAL DATA:\n".concat(t,"\n\n## ANALYSIS METHODOLOGY:\nFollow this systematic evaluation process:\n\n### Step 1: Emergency Fund Assessment\n- Calculate monthly essential expenses (housing, utilities, food, transportation, insurance)\n- Determine recommended emergency fund target (3-6 months of essential expenses - globally applicable)\n- Assess current emergency fund adequacy ratio\n\n### Step 2: Savings Rate Analysis\n- Calculate current savings rate: (Monthly Income - Monthly Expenses) / Monthly Income \xd7 100\n- Compare to universal benchmarks:\n  * Minimum: 10% of gross income\n  * Good: 15-20% of gross income  \n  * Excellent: 20%+ of gross income\n\n### Step 3: Savings Vehicle Optimization\nEvaluate current and recommended allocation:\n- **High-yield savings accounts**: Emergency fund (3-6 months expenses)\n- **Term deposits/CDs**: Short-term goals (1-2 years)\n- **Government bonds**: Medium-term goals (2-5 years)\n- **Investment accounts**: Long-term goals (5+ years)\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83D\uDCB0 SAVINGS HEALTH REPORT\n\n\uD83D\uDCC8 CURRENT METRICS:\n• Savings Rate: [X]% (Target: 15-20%)\n• Emergency Fund: $[X] ([X] months coverage - Target: 3-6 months)\n• Monthly Surplus Available: $[X]\n\n\uD83C\uDFAF EMERGENCY FUND ANALYSIS:\nEssential Monthly Expenses: $[X]\nCurrent Emergency Fund: $[X] \nGap: $[X] ([X] months short/surplus)\nStatus: [CRITICAL/ADEQUATE/EXCELLENT]\n\n\uD83D\uDE80 OPTIMIZATION OPPORTUNITIES:\n1. [Specific opportunity] - Potential Savings: $[X]/month\n2. [Specific opportunity] - Potential Savings: $[X]/month\n3. [Specific opportunity] - Potential Savings: $[X]/month\n\n\uD83D\uDCCB 30-DAY ACTION PLAN:\nWeek 1: [Specific task with dollar target]\nWeek 2: [Specific task with dollar target]\nWeek 3: [Specific task with dollar target]\nWeek 4: [Specific task with dollar target]\n\n\uD83C\uDFC6 EXPECTED OUTCOMES (90 days):\n• Emergency Fund: $[X] → $[X] ([X] months coverage)\n• Monthly Savings Rate: [X]% → [X]%\n• Additional Monthly Savings: $[X]\n```\n\n**ANALYSIS REQUIREMENTS:**\n- Calculate specific dollar amounts for all recommendations\n- Provide timeline for building emergency fund to optimal level\n- Consider local banking options and interest rates available in their region\n- Include high-yield savings recommendations applicable to their banking system"),expenses:"# EXPENSE OPTIMIZATION & COST REDUCTION ANALYSIS\n\nYou are a budget optimization expert with international experience in expense analysis and cost reduction strategies. Perform a detailed expense audit using universal budgeting principles.\n\n## FINANCIAL DATA:\n".concat(t,"\n\n## EXPENSE ANALYSIS FRAMEWORK:\n\n### Step 1: Expense Categorization & Benchmarking\nUse international budgeting guidelines as baseline:\n- **Essential Needs (50-60%)**: Housing, utilities, groceries, transportation, insurance, minimum debt payments\n- **Discretionary Spending (20-30%)**: Entertainment, dining out, subscriptions, hobbies, non-essential shopping\n- **Savings & Investments (15-20%)**: Emergency fund, investments, retirement savings\n\n### Step 2: Cost Reduction Opportunity Matrix\nFor each expense category, identify:\n- **ELIMINATE**: Unnecessary or duplicate expenses\n- **REDUCE**: Expenses that can be lowered through negotiation/switching\n- **OPTIMIZE**: Better value alternatives or timing strategies\n- **MONITOR**: Expenses to track more carefully\n\n### Step 3: ROI Calculation for Changes\nCalculate the annual impact of each potential change:\n- Monthly savings \xd7 12 = Annual impact\n- Consider implementation difficulty (Easy/Medium/Hard)\n- Factor in potential quality-of-life impact\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83D\uDCB8 EXPENSE AUDIT RESULTS\n\n\uD83D\uDCCA CURRENT ALLOCATION vs INTERNATIONAL BENCHMARKS:\n• Housing: [X]% (Recommended: 25-35%)\n• Transportation: [X]% (Recommended: 10-15%)  \n• Food: [X]% (Recommended: 10-15%)\n• Utilities: [X]% (Recommended: 5-10%)\n• Entertainment: [X]% (Recommended: 5-10%)\n• Other Categories: [X]%\n\n\uD83D\uDD0D TOP COST-CUTTING OPPORTUNITIES:\n1. [Specific expense]: Currently $[X]/month → Target $[X]/month = $[X] annual savings\n   • Action: [Specific strategy]\n   • Difficulty: [Easy/Medium/Hard]\n   • Timeline: [X] days to implement\n\n2. [Specific expense]: Currently $[X]/month → Target $[X]/month = $[X] annual savings  \n   • Action: [Specific strategy]\n   • Difficulty: [Easy/Medium/Hard]\n   • Timeline: [X] days to implement\n\n3. [Specific expense]: Currently $[X]/month → Target $[X]/month = $[X] annual savings\n   • Action: [Specific strategy] \n   • Difficulty: [Easy/Medium/Hard]\n   • Timeline: [X] days to implement\n\n⚡ QUICK WINS (Implement This Week):\n• [Action] - Saves $[X]/month\n• [Action] - Saves $[X]/month\n• [Action] - Saves $[X]/month\n\n\uD83C\uDFAF TOTAL POTENTIAL SAVINGS:\nMonthly: $[X] | Annual: $[X] | 5-Year Impact: $[X]\n\n\uD83D\uDCF1 TRACKING RECOMMENDATIONS:\n[Specific budgeting methods to monitor expense categories with highest potential for overspending]\n```\n\n**ANALYSIS STANDARDS:**\n- Identify specific expenses by name and amount\n- Provide actionable reduction strategies with estimated savings\n- Consider regional cost variations and local market conditions\n- Include negotiation strategies applicable to local service providers"),goals:"# FINANCIAL GOALS STRATEGIC ANALYSIS\n\nYou are a goal-setting strategist and financial planner with international expertise in multi-goal prioritization and achievement planning.\n\n## FINANCIAL DATA:\n".concat(t,"\n\n## GOAL ANALYSIS METHODOLOGY:\n\n### Step 1: Goal Feasibility Assessment\nFor each goal, calculate:\n- **Time to completion** at current contribution rate\n- **Required monthly contribution** to meet target date  \n- **Opportunity cost** of prioritizing this goal over others\n- **Risk assessment** of timeline feasibility\n\n### Step 2: Goal Prioritization Matrix\nRank goals using universal criteria:\n- **URGENCY**: Time-sensitive goals (home purchase, education funding)\n- **IMPACT**: Life-changing potential or security importance\n- **FEASIBILITY**: Realistic with current financial capacity\n- **DEPENDENCY**: Goals that enable other goals\n\n### Step 3: Resource Allocation Strategy\n- Calculate optimal contribution distribution\n- Identify funding sources (increased income, reduced expenses, reallocations)\n- Plan for goal conflicts and trade-offs\n- Create milestone tracking system\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83C\uDFAF GOAL ACHIEVEMENT STRATEGIC PLAN\n\n\uD83D\uDCCA GOAL FEASIBILITY ANALYSIS:\n[For each goal:]\n• [Goal Name]: $[current]/$[target] ([X]% complete)\n  - Current Rate: $[X]/month → [X] years to completion\n  - Required Rate: $[X]/month → Target completion: [Date]\n  - Feasibility: [REALISTIC/CHALLENGING/UNREALISTIC]\n  - Priority Rank: [#X] - Reason: [specific justification]\n\n⚖️ RESOURCE ALLOCATION STRATEGY:\nAvailable Monthly Surplus: $[X]\nRecommended Distribution:\n1. [Priority Goal]: $[X]/month ([X]% of surplus)\n2. [Second Goal]: $[X]/month ([X]% of surplus)  \n3. [Third Goal]: $[X]/month ([X]% of surplus)\n\n\uD83D\uDEA9 GOAL CONFLICTS IDENTIFIED:\n• [Conflict description] - Resolution: [specific strategy]\n• [Conflict description] - Resolution: [specific strategy]\n\n\uD83D\uDCA1 FUNDING OPTIMIZATION STRATEGIES:\n1. [Strategy]: Additional $[X]/month → Apply to [specific goal]\n2. [Strategy]: Additional $[X]/month → Apply to [specific goal]\n3. [Strategy]: Additional $[X]/month → Apply to [specific goal]\n\n\uD83D\uDCC5 MILESTONE ROADMAP (Next 12 Months):\nMonth 3: [Specific milestone] - [Goal Name] reaches $[X]\nMonth 6: [Specific milestone] - [Goal Name] reaches $[X]  \nMonth 9: [Specific milestone] - [Goal Name] reaches $[X]\nMonth 12: [Specific milestone] - [Goal Name] reaches $[X]\n\n\uD83C\uDFC6 EXPECTED OUTCOMES:\nBy [Date]: [Most urgent goal] fully funded\nBy [Date]: [Second goal] reaches [X]% completion\nTotal Goal Progress Acceleration: [X] months faster\n```\n\n**STRATEGIC REQUIREMENTS:**\n- Provide specific monthly contribution amounts for each goal\n- Address goal conflicts with concrete resolution strategies  \n- Include alternative scenarios if income increases/decreases by 10%\n- Factor in inflation impact for long-term goals (typical global range: 2-4% annually)"),budget:"# COMPREHENSIVE BUDGET ANALYSIS & OPTIMIZATION\n\nYou are a certified budget analyst with international expertise in sustainable financial planning and cash flow optimization across different economic systems.\n\n## FINANCIAL DATA:\n".concat(t,"\n\n## BUDGET ANALYSIS FRAMEWORK:\n\n### Step 1: Budget Health Assessment\nApply universal budgeting frameworks:\n- **Essential/Discretionary/Savings Model**: Needs/Wants/Savings allocation\n- **Zero-Based Budgeting**: Every dollar assigned a purpose\n- **Cash Flow Analysis**: Income timing vs expense timing\n- **Variance Analysis**: Planned vs actual spending patterns\n\n### Step 2: Sustainability Evaluation\nAssess long-term viability:\n- **Income Stability**: Single vs multiple income streams\n- **Expense Flexibility**: Fixed vs variable expense ratio\n- **Seasonal Variations**: Account for irregular expenses\n- **Economic Resilience**: Buffer for economic downturns\n\n### Step 3: Optimization Opportunities\nIdentify improvements:\n- **Rebalancing**: Move money between categories for better outcomes\n- **Automation**: Reduce decision fatigue and improve consistency\n- **Buffers**: Build in cushions for unexpected expenses\n- **Efficiency**: Reduce time spent on budget management\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83D\uDCCA BUDGET HEALTH REPORT\n\n\uD83D\uDCB0 CURRENT BUDGET ALLOCATION:\nIncome: $[X]/month\nFixed Expenses: $[X] ([X]%)\nVariable Expenses: $[X] ([X]%)\nSavings/Investments: $[X] ([X]%)\nAvailable Surplus: $[X] ([X]%)\n\n\uD83C\uDFAF INTERNATIONAL BENCHMARK ANALYSIS:\nEssential Expenses: [X]% (Recommended: 50-60%)\nDiscretionary Spending: [X]% (Recommended: 20-30%)  \nSavings & Investments: [X]% (Recommended: 15-20%)\n\n⚠️ SUSTAINABILITY RISKS:\nHIGH: [Issues requiring immediate budget restructuring]\nMEDIUM: [Areas needing monitoring and gradual adjustment]\nLOW: [Minor optimizations for improved efficiency]\n\n\uD83D\uDD27 OPTIMIZATION RECOMMENDATIONS:\n1. **Rebalancing Opportunity**\n   • Move $[X] from [Category A] to [Category B]\n   • Impact: [Specific benefit] \n   • Implementation: [Step-by-step process]\n\n2. **Automation Setup**\n   • Automate: [Specific transactions]\n   • Frequency: [Weekly/Monthly]\n   • Expected Benefit: [Time saved + consistency improvement]\n\n3. **Buffer Implementation**  \n   • Create $[X] buffer for [Category]\n   • Funding source: [Specific reallocation]\n   • Risk mitigation: [Specific scenarios covered]\n\n\uD83D\uDCC8 PERFORMANCE TRACKING SYSTEM:\nWeekly: Review [specific categories with highest variance]\nMonthly: Analyze [specific metrics] vs targets\nQuarterly: Reassess [budget allocations] based on [specific triggers]\n\n\uD83C\uDFAF 90-DAY BUDGET GOALS:\n• Reduce [Category] spending by $[X]/month\n• Increase savings rate from [X]% to [X]%\n• Achieve [X]% consistency in variable expenses\n• Build $[X] buffer fund\n\n\uD83D\uDCF1 RECOMMENDED TOOLS:\n[Universal budgeting methods based on complexity of their situation]\n```\n\n**ANALYSIS STANDARDS:**\n- Provide specific dollar amounts for all recommendations\n- Address both overspending and underspending issues\n- Consider psychological aspects of budgeting success\n- Include contingency planning for income changes and economic uncertainty"),investment:"# INVESTMENT READINESS & STRATEGY ANALYSIS\n\nYou are a fee-only financial advisor with international investment expertise and knowledge of global portfolio construction principles.\n\n## FINANCIAL DATA:\n".concat(t,"\n\n## INVESTMENT ANALYSIS FRAMEWORK:\n\n### Step 1: Investment Readiness Assessment\nEvaluate universal prerequisites:\n- **Emergency Fund**: 3-6 months expenses in liquid savings\n- **High-Interest Debt**: Credit cards and other debt >6-8% APR paid off\n- **Stable Income**: Consistent cash flow for regular investing\n- **Investment Timeline**: Goals with 5+ year time horizon\n- **Risk Capacity**: Financial ability to withstand losses\n\n### Step 2: Risk Profile Development\nAssess investor characteristics:\n- **Risk Tolerance**: Emotional comfort with volatility\n- **Risk Capacity**: Financial ability to take risks  \n- **Time Horizon**: Years until funds needed\n- **Liquidity Needs**: Access requirements for invested funds\n- **Local Market Considerations**: Available investment options in their region\n\n### Step 3: Strategic Asset Allocation\nDesign portfolio structure using global principles:\n- **Age-Based Approach**: 100 minus age in growth investments (universal guideline)\n- **Goal-Based Allocation**: Different allocations for different objectives\n- **Tax-Efficient Strategy**: Prioritize tax-advantaged accounts available locally\n- **Diversification Strategy**: Domestic, international, and alternative assets\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83C\uDFAF INVESTMENT READINESS ASSESSMENT\n\n✅ PREREQUISITE CHECKLIST:\n• Emergency Fund: [COMPLETE/NEEDS $X MORE] - Current: $[X] (Target: $[X])\n• High-Interest Debt: [CLEAR/PAYOFF $X AT X% APR FIRST]\n• Stable Income: [STABLE/VARIABLE] - Monthly variance: [\xb1X]%\n• Investment Timeline: [READY/WAIT X MONTHS]\nOverall Readiness: [READY TO INVEST/COMPLETE PREREQUISITES FIRST]\n\n\uD83D\uDCCA RISK PROFILE ANALYSIS:\nInvestment Timeline: [X] years\nRisk Tolerance: [CONSERVATIVE/MODERATE/AGGRESSIVE]\nRisk Capacity: [LOW/MEDIUM/HIGH] based on [specific factors]\nRecommended Risk Level: [CONSERVATIVE/MODERATE/AGGRESSIVE]\n\n\uD83D\uDCBC STRATEGIC ASSET ALLOCATION:\n[If ready to invest:]\n**Portfolio Recommendation:**\n• Domestic Stocks/Equities: [X]% (Target: $[X])\n• International Stocks/Equities: [X]% (Target: $[X])\n• Bonds/Fixed Income: [X]% (Target: $[X])  \n• Real Estate (REITs/Property): [X]% (Target: $[X])\n• Cash/Money Market: [X]% (Target: $[X])\n\n\uD83D\uDCC8 IMPLEMENTATION STRATEGY:\n**Phase 1 (Months 1-3):**\n• Maximize employer retirement matching: $[X]/month\n• Open tax-advantaged investment account: $[X]/month\n• Target allocation: [simplified portfolio for starting]\n\n**Phase 2 (Months 4-12):**  \n• Increase contributions to: $[X]/month\n• Add [specific investments]: [X]% allocation\n• Rebalance quarterly\n\n\uD83C\uDFAF TAX-ADVANTAGED OPTIMIZATION:\n1. Employer retirement plan matching: $[X]/month (Priority: HIGH)\n2. Individual retirement savings account: $[X]/month (Priority: HIGH)  \n3. Tax-free savings account (if available): $[X]/month (Priority: MEDIUM)\n4. Additional retirement contributions: $[X]/month (Priority: MEDIUM)\n5. Taxable investing: $[X]/month (Priority: LOW)\n\n⚠️ KEY CONSIDERATIONS:\n• [Specific risks for their situation]\n• [Important milestones to reassess strategy]\n• [Local tax implications and available investment vehicles]\n\n\uD83D\uDCDA NEXT STEPS:\n1. [Research local investment account options] - Timeline: [X] days\n2. [Investigate available low-cost index funds/ETFs] - Decision needed by: [Date]\n3. [Set up automatic investment plan] - Complete by: [Date]\n```\n\n**ADVISORY STANDARDS:**\n- Only recommend investment if prerequisites are met\n- Focus on low-cost, globally diversified investment options\n- Include local tax implications and available investment vehicles\n- Address common behavioral investing mistakes universally applicable\n- Factor in their specific goals, timelines, and local market access")};return a[e]||a.overview},T=e=>{f(C(e)),p(null)},L=async()=>{try{await navigator.clipboard.writeText(b),S(!0),setTimeout(()=>S(!1),2e3)}catch(e){console.error("Failed to copy prompt:",e)}},R=async e=>{if(c.userPlan)try{p(null);let t=await F.quickAnalysis(c.userPlan,e);p(t)}catch(e){console.error("Quick analysis failed:",e),p({success:!1,error:"Failed to perform analysis. Please try again."})}},M=async()=>{if(!c.userPlan||!u.trim())return;let e=F.validateRequest({userPlan:c.userPlan,query:u.trim(),model:N});if(e.length>0)return void p({success:!1,error:e.join(", ")});try{p(null);let e=await F.analyzeFinancialData({userPlan:c.userPlan,query:u.trim(),model:N,analysisType:"general"});p(e)}catch(e){console.error("Custom analysis failed:",e),p({success:!1,error:"Failed to analyze your question. Please try again."})}},O=()=>{p(null),h(""),f(""),S(!1)},P="api"===G.mode&&G.enableApiMode,X="prompt"===G.mode||!G.enableApiMode;return!P||(null==j?void 0:j.enabled)&&(null==j?void 0:j.connectionStatus)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 ".concat(i),disabled:x,children:x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,n.jsx)("span",{children:"Analyzing..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-lg",children:"\uD83E\uDD16"}),(0,n.jsx)("span",{children:X?"AI Assistant":"Ask AI"})]})}),d&&(0,n.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>m(!1)}),(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20",children:(0,n.jsxs)("div",{className:"relative z-50 bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD16"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:X?"AI Financial Assistant":"AI Financial Advisor"}),(0,n.jsx)("p",{className:"text-purple-100 text-sm",children:X?"Generate prompts for your favorite AI assistant":"Get personalized insights about your finances"})]})]}),(0,n.jsx)("button",{onClick:()=>m(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,n.jsxs)("div",{className:"px-6 py-4",children:[P&&(!(null==j?void 0:j.enabled)||!(null==j?void 0:j.connectionStatus))&&(0,n.jsxs)("div",{className:"text-center py-8 space-y-6",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD16"}),(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"AI Features Not Configured"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"To use AI-powered financial analysis, you need to set up your API keys."}),(0,n.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 text-left",children:[(0,n.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Setup Instructions:"}),(0,n.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,n.jsxs)("li",{children:["Create a"," ",(0,n.jsx)("code",{className:"bg-gray-200 dark:bg-gray-600 px-1 rounded",children:".env.local"})," ","file in your project root"]}),(0,n.jsx)("li",{children:"Add the following environment variables:"})]}),(0,n.jsxs)("div",{className:"mt-4 p-3 bg-gray-900 dark:bg-gray-800 rounded text-green-400 text-sm font-mono",children:[(0,n.jsx)("div",{children:"AI_FEATURES_ENABLED=true"}),(0,n.jsx)("div",{children:"OPENROUTER_API_KEY=your_api_key_here"}),(0,n.jsx)("div",{children:"DEFAULT_AI_MODEL=anthropic/claude-3-sonnet"})]}),(0,n.jsxs)("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"To get an OpenRouter API key:"})}),(0,n.jsxs)("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[(0,n.jsxs)("li",{children:["Visit"," ",(0,n.jsx)("a",{href:"https://openrouter.ai/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"openrouter.ai"})]}),(0,n.jsx)("li",{children:"Sign up for a free account"}),(0,n.jsx)("li",{children:"Go to API Keys section"}),(0,n.jsx)("li",{children:"Create a new API key"}),(0,n.jsx)("li",{children:"Add $5-10 credits to your account"}),(0,n.jsx)("li",{children:'Replace "your_api_key_here" with your actual key'})]})]})]}),(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"After setting up, restart your development server and the AI features will be available."})]}),(X||P&&(null==j?void 0:j.enabled)&&(null==j?void 0:j.connectionStatus))&&(0,n.jsxs)(n.Fragment,{children:[X&&(0,n.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:"\uD83D\uDCCB"}),(0,n.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Copy & Paste Mode"})]}),(0,n.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"We'll generate optimized prompts that you can copy and paste into your favorite AI assistant (ChatGPT, Claude, Gemini, etc.) for personalized financial advice."})]}),(0,n.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[(0,n.jsx)("button",{onClick:()=>D("quick"),className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors ".concat("quick"===A?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:"⚡ Quick Analysis"}),(0,n.jsx)("button",{onClick:()=>D("custom"),className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors ".concat("custom"===A?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:"\uD83D\uDCAD Custom Question"})]}),"quick"===A&&(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[{id:"overview",title:"\uD83D\uDCCA Financial Overview",description:"Get a comprehensive view of your financial situation",icon:"\uD83D\uDCCA"},{id:"savings",title:"\uD83D\uDCB0 Savings Strategy",description:"Tips to improve your savings rate and emergency fund",icon:"\uD83D\uDCB0"},{id:"expenses",title:"\uD83D\uDCB8 Expense Optimization",description:"Find areas to reduce spending and optimize your budget",icon:"\uD83D\uDCB8"},{id:"goals",title:"\uD83C\uDFAF Goal Planning",description:"Review progress and prioritize your financial goals",icon:"\uD83C\uDFAF"},{id:"budget",title:"\uD83D\uDCCB Budget Analysis",description:"Check if your budget is balanced and sustainable",icon:"\uD83D\uDCCB"},{id:"investment",title:"\uD83D\uDCC8 Investment Advice",description:"Get personalized investment recommendations",icon:"\uD83D\uDCC8"}].map(e=>(0,n.jsx)("button",{onClick:()=>X?T(e.id):R(e.id),disabled:x,className:"p-4 text-left border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description})]})]})},e.id))}),"custom"===A&&(0,n.jsxs)("div",{className:"space-y-4 mb-6",children:[P&&(null==j?void 0:j.availableModels)&&j.availableModels.length>1&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"AI Model"}),(0,n.jsx)("select",{value:N,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:j.availableModels.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ask your financial question"}),(0,n.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),placeholder:"e.g., 'Should I prioritize paying off debt or saving for retirement?' or 'How can I afford my dream vacation in 2 years?'",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",disabled:x}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[u.length,"/5000 characters"]})]}),(0,n.jsx)("button",{onClick:X?()=>{if(!c.userPlan||!u.trim())return;let e=w();f('# CUSTOM FINANCIAL ANALYSIS REQUEST\n\nYou are a certified financial planner with 15+ years of international experience in personal financial planning across different economic systems. A client has asked you the following specific question, and you need to provide expert analysis using their actual financial data.\n\n## CLIENT QUESTION:\n"'.concat(u.trim(),"\"\n\n## CLIENT'S FINANCIAL DATA:\n").concat(e,"\n\n## ANALYSIS FRAMEWORK:\nPlease follow this systematic approach to answer their question:\n\n### Step 1: Question Classification & Context\n- **Category**: [Investment/Budgeting/Savings/Debt/Goals/Risk Management/Tax Strategy/Other]\n- **Urgency Level**: [Immediate/Short-term (3 months)/Medium-term (1 year)/Long-term (3+ years)]\n- **Complexity**: [Simple/Moderate/Complex] based on financial situation\n- **Geographic Context**: [Consider local financial system differences and regulations]\n\n### Step 2: Data Analysis & Key Insights\n- **Relevant Financial Metrics**: Extract and calculate metrics directly related to the question\n- **Current Position Assessment**: Evaluate where they stand regarding this specific question\n- **Risk Factors**: Identify any risks or red flags related to this topic\n\n### Step 3: Expert Recommendations\n- **Primary Recommendation**: Most important action to take\n- **Alternative Options**: 2-3 additional strategies or approaches\n- **Implementation Timeline**: Specific deadlines and milestones\n- **Expected Outcomes**: Quantified benefits and potential results\n\n### Step 4: Personalized Action Plan\n- **Immediate Actions** (Next 7 days): Specific tasks they can complete immediately\n- **Short-term Actions** (Next 30 days): Steps to implement the strategy\n- **Long-term Follow-up** (3-6 months): How to monitor progress and adjust\n\n## REQUIRED OUTPUT FORMAT:\n```\n\uD83C\uDFAF EXPERT ANALYSIS FOR: [Restate their question]\n\n\uD83D\uDCCA SITUATION ASSESSMENT:\n• Category: [Classification]\n• Current Position: [Specific assessment with numbers]\n• Key Insight: [Most important finding from their data]\n\n⚠️ RISK ANALYSIS:\n• Primary Risk: [Main concern to address]\n• Risk Level: [Low/Medium/High]\n• Mitigation Strategy: [How to address the risk]\n\n\uD83D\uDCA1 EXPERT RECOMMENDATIONS:\n\n**PRIMARY STRATEGY:**\n• Action: [Specific recommendation]\n• Rationale: [Why this is the best approach for their situation]\n• Expected Impact: [Quantified benefit - dollar amount or percentage]\n\n**ALTERNATIVE APPROACHES:**\n1. [Option 1]: [Brief description] - Best for: [Specific circumstances]\n2. [Option 2]: [Brief description] - Best for: [Specific circumstances]\n3. [Option 3]: [Brief description] - Best for: [Specific circumstances]\n\n\uD83D\uDCCB 7-DAY ACTION PLAN:\nDay 1-2: [Specific task with expected time commitment]\nDay 3-4: [Specific task with expected time commitment]\nDay 5-7: [Specific task with expected time commitment]\n\n\uD83D\uDCC8 SUCCESS METRICS:\n• 30 Days: [Measurable milestone]\n• 90 Days: [Measurable milestone]\n• 6 Months: [Long-term goal]\n\n⚠️ RED FLAGS TO WATCH:\n• [Warning sign 1]: [What to do if this occurs]\n• [Warning sign 2]: [What to do if this occurs]\n\n\uD83D\uDD0D ADDITIONAL CONSIDERATIONS:\n[Any tax implications, legal considerations, or other important factors specific to their question and financial situation]\n\n\uD83C\uDF0D LOCAL ADAPTATION NOTES:\n[Regional factors to consider, local financial products to research, or when to seek local professional advice]\n```\n\n## EXPERT GUIDELINES:\n- **Client's Best Interest**: Provide advice that prioritizes the client's financial wellbeing only\n- **Specific Numbers**: Use their actual financial data to calculate recommendations\n- **Risk Disclosure**: Clearly identify any risks associated with recommendations\n- **Realistic Expectations**: Base all projections on their current financial capacity\n- **Universal Principles**: Apply internationally recognized financial planning best practices\n- **Personalization**: All recommendations must be specific to their unique situation\n- **Local Adaptation**: Acknowledge when local expertise or research may be needed\n\n## CONSTRAINTS:\n- Only use the provided financial data - do not make assumptions about missing information\n- Provide specific amounts and percentages whenever possible\n- If additional information is needed, clearly state what information would help refine the advice\n- Do not provide investment advice unless they have emergency fund and stable financial foundation\n- Include disclaimers for any recommendations involving market risk or regulatory changes\n- Acknowledge regional differences in financial products and regulations when relevant")),p(null)}:M,disabled:x||!u.trim(),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-md font-medium transition-colors disabled:cursor-not-allowed",children:x?"Analyzing...":X?"Generate Prompt":"Get AI Analysis"})]}),P&&x&&(0,n.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"AI is analyzing your financial data..."}),(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"This may take a few moments"})]})}),X&&b&&(0,n.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDCCB"}),"Generated Prompt"]}),(0,n.jsx)("button",{onClick:L,className:"px-4 py-2 rounded-md font-medium transition-all duration-200 ".concat(E?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:E?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-2",children:"✓"}),"Copied!"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCB"}),"Copy Prompt"]})})]}),(0,n.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:(0,n.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 dark:text-gray-300 font-mono leading-relaxed",children:b})}),(0,n.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"\uD83D\uDCA1"}),(0,n.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[(0,n.jsx)("p",{className:"font-medium mb-1",children:"How to use this prompt:"}),(0,n.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,n.jsx)("li",{children:'Copy the prompt above using the "Copy Prompt" button'}),(0,n.jsx)("li",{children:"Open your favorite AI assistant (ChatGPT, Claude, Gemini, etc.)"}),(0,n.jsx)("li",{children:"Paste the prompt and send it"}),(0,n.jsx)("li",{children:"Get personalized financial advice based on your actual data!"})]})]})]})})]})}),P&&y&&!x&&(0,n.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:y.success?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDD0D"}),"Analysis"]}),(0,n.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-gray-700 dark:text-gray-300",children:((null==(t=y.data)?void 0:t.analysis)||"").split("\n").filter(e=>e.trim().length>0).map((e,t)=>(0,n.jsx)("p",{className:"mb-2",children:e.trim()},t))})]}),(null==(a=y.data)?void 0:a.suggestions)&&y.data.suggestions.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDCA1"}),"Recommendations"]}),(0,n.jsx)("ul",{className:"space-y-2",children:y.data.suggestions.slice(0,5).map((e,t)=>(0,n.jsxs)("li",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:"text-green-500 mt-1",children:"•"}),(0,n.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t))})]}),(null==(r=y.data)?void 0:r.nextSteps)&&y.data.nextSteps.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDE80"}),"Next Steps"]}),(0,n.jsx)("ul",{className:"space-y-2",children:y.data.nextSteps.slice(0,4).map((e,t)=>(0,n.jsxs)("li",{className:"flex items-start gap-2",children:[(0,n.jsxs)("span",{className:"text-blue-500 font-semibold mt-1",children:[t+1,"."]}),(0,n.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t))})]}),y.metadata&&(0,n.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-600 pt-3",children:["Analysis by ",y.metadata.model," • Processing time: ",y.metadata.processingTime,"ms •",y.metadata.timestamp]})]}):(0,n.jsxs)("div",{className:"text-center py-6",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("span",{className:"text-2xl",children:"⚠️"})}),(0,n.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Analysis Failed"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:y.error||"Something went wrong. Please try again."}),(0,n.jsx)("button",{onClick:O,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-sm",children:"Try Again"})]})})]})]}),(0,n.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 px-6 py-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:X?"\uD83D\uDCCB Your data stays private - prompts are generated locally":"\uD83D\uDD12 Your financial data is analyzed securely and privately"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(y||b)&&(0,n.jsx)("button",{onClick:O,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:"Clear"}),(0,n.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-sm transition-colors",children:"Close"})]})]})})]})})]})]}):(0,n.jsxs)("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg ".concat(i),title:"AI features need to be configured",children:[(0,n.jsx)("span",{className:"text-lg",children:"\uD83E\uDD16"}),(0,n.jsx)("span",{children:"Setup AI"})]})}function B(){let e=(0,l.SO)(),{formatCurrency:t}=(0,d.H)(),{t:a}=(0,m.o)(),r=(e,t)=>{switch(t){case o.jN.DAILY:return 30.44*e;case o.jN.WEEKLY:return 4.33*e;case o.jN.BIWEEKLY:return 2.17*e;case o.jN.MONTHLY:return e;case o.jN.QUARTERLY:return e/3;case o.jN.YEARLY:return e/12;case o.jN.ONE_TIME:return 0;default:return e}},{annualIncome:g,annualExpenses:u,annualNet:h}=(()=>{if(!e.userPlan.id)return{annualIncome:0,annualExpenses:0,annualNet:0};let t=new Date,a=(0,j.X0)(e.userPlan,{months:12,startDate:t,includeGoalContributions:!1,conservativeMode:!1});return{annualIncome:a.summary.totalIncome,annualExpenses:a.summary.totalExpenses,annualNet:a.summary.totalIncome-a.summary.totalExpenses}})(),y=e.userPlan.goals.filter(e=>e.isActive),p=g>0?h/g*100:0,b=e.userPlan.expenses.filter(e=>e.isActive).reduce((e,t)=>{let a=r(t.amount,t.frequency||o.jN.MONTHLY);return e[t.category]=(e[t.category]||0)+a,e},{}),f=Object.values(b).reduce((e,t)=>e+t,0),N=Object.entries(b).sort((e,t)=>{let[,a]=e,[,n]=t;return n-a}).slice(0,5),v=y.filter(e=>{let t=new Date(e.targetDate),a=new Date;return a.setMonth(a.getMonth()+6),t<=a}).sort((e,t)=>new Date(e.targetDate).getTime()-new Date(t.targetDate).getTime()).slice(0,3),A=(0,s.useMemo)(()=>e.userPlan?(0,c.xL)(e.userPlan,c.iH):[],[e.userPlan]),D=e=>{switch(e){case o.bx.CRITICAL:return"\uD83D\uDEA8";case o.bx.HIGH:return"⚠️";case o.bx.MEDIUM:return"\uD83D\uDCCB";case o.bx.LOW:return"\uD83D\uDCA1";default:return"\uD83D\uDCDD"}},E=e=>{switch(e){case"income":return"\uD83D\uDCB0";case"expense":return"\uD83D\uDCB3";case"goal":return"\uD83C\uDFAF";case"general":return"\uD83D\uDCCA";default:return"\uD83D\uDCA1"}},S=e=>{switch(e){case"income":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"expense":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"goal":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"general":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}},I=e=>{switch(e){case o.bx.CRITICAL:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case o.bx.HIGH:return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case o.bx.MEDIUM:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case o.bx.LOW:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},w=e.userPlan.id?(0,j.X0)(e.userPlan,{months:12,startDate:new Date,includeGoalContributions:!1,conservativeMode:!1}).monthlyForecasts.map(e=>({month:e.month,amount:e.expenses,monthName:new Date(e.month+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"})})).sort((e,t)=>t.amount-e.amount).slice(0,5):[],C=e=>(0,x._3)(e,a,{includeYear:!0,shortMonth:!0}),L=e=>({[o.Lc.HOUSING]:"\uD83C\uDFE0",[o.Lc.TRANSPORTATION]:"\uD83D\uDE97",[o.Lc.FOOD]:"\uD83C\uDF7D️",[o.Lc.UTILITIES]:"\uD83D\uDCA1",[o.Lc.INSURANCE]:"\uD83D\uDEE1️",[o.Lc.HEALTHCARE]:"\uD83C\uDFE5",[o.Lc.ENTERTAINMENT]:"\uD83C\uDFAC",[o.Lc.PERSONAL_CARE]:"\uD83D\uDC85",[o.Lc.EDUCATION]:"\uD83D\uDCDA",[o.Lc.DEBT_PAYMENTS]:"\uD83D\uDCB3",[o.Lc.SAVINGS]:"\uD83D\uDCB0",[o.Lc.TRAVEL]:"✈️",[o.Lc.SHOPPING]:"\uD83D\uDECD️",[o.Lc.KIDS]:"\uD83D\uDC76",[o.Lc.MISCELLANEOUS]:"\uD83D\uDCE6"})[e]||"\uD83D\uDCE6",R=e=>({[o.QO.EMERGENCY_FUND]:"\uD83D\uDEA8",[o.QO.RETIREMENT]:"\uD83C\uDFD6️",[o.QO.EDUCATION]:"\uD83C\uDF93",[o.QO.HOME_PURCHASE]:"\uD83C\uDFE1",[o.QO.VACATION]:"✈️",[o.QO.DEBT_PAYOFF]:"\uD83D\uDCB3",[o.QO.MAJOR_PURCHASE]:"\uD83D\uDED2",[o.QO.INVESTMENT]:"\uD83D\uDCC8",[o.QO.OTHER]:"\uD83C\uDFAF"})[e]||"\uD83C\uDFAF",M=!e.userPlan.id||0===e.userPlan.income.length&&0===e.userPlan.expenses.length&&0===e.userPlan.goals.length,P=0===e.userPlan.income.length||0===e.userPlan.expenses.length;return e.loading.isLoading?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading dashboard..."})]})}):(0,n.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:"Financial Dashboard"}),(0,n.jsx)(U,{})]}),(0,n.jsx)("p",{className:"mt-2 text-xl text-gray-600 dark:text-gray-300",children:"Your complete financial overview at a glance"})]}),M&&(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-8 border border-blue-200 dark:border-blue-800",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("span",{className:"text-4xl",children:"\uD83C\uDFAF"})}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Welcome to Your Financial Journey!"}),(0,n.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Let's get you started with a few simple steps to unlock the full power of your financial planner"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center mb-4",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB0"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"1. Add Your Income"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"Start by adding all your income sources - salary, freelance work, investments, or any other regular income."}),(0,n.jsxs)(i(),{href:"/income",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:["Add Income",(0,n.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center mb-4",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB3"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"2. Track Your Expenses"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"Add your monthly expenses like rent, utilities, groceries, and subscriptions to get a complete picture."}),(0,n.jsxs)(i(),{href:"/expenses",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:["Add Expenses",(0,n.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mb-4",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFAF"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"3. Set Your Goals"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"Define your financial goals like emergency fund, vacation, or retirement to stay motivated and focused."}),(0,n.jsxs)(i(),{href:"/goals",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:["Set Goals",(0,n.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,n.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-yellow-200 dark:border-yellow-800",children:(0,n.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCA1"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"What happens next?"}),(0,n.jsxs)("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300 text-sm",children:[(0,n.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✅"}),(0,n.jsx)("span",{children:"Your dashboard will show detailed financial analytics and insights"})]}),(0,n.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✅"}),(0,n.jsx)("span",{children:"Get personalized suggestions to improve your financial health"})]}),(0,n.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✅"}),(0,n.jsx)("span",{children:"View forecasts and track your progress toward goals"})]}),(0,n.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✅"}),(0,n.jsx)("span",{children:"Export your data or get AI-powered financial analysis"})]})]})]})]})})]}),!M&&P&&(0,n.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200",children:"Complete Your Financial Profile"}),(0,n.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 mt-1",children:"You're missing some key information. Add both income and expenses to get the most accurate insights."}),(0,n.jsxs)("div",{className:"flex space-x-3 mt-3",children:[0===e.userPlan.income.length&&(0,n.jsx)(i(),{href:"/income",className:"text-yellow-600 dark:text-yellow-400 hover:underline text-sm font-medium",children:"Add Income →"}),0===e.userPlan.expenses.length&&(0,n.jsx)(i(),{href:"/expenses",className:"text-yellow-600 dark:text-yellow-400 hover:underline text-sm font-medium",children:"Add Expenses →"})]})]})]})}),!M&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Annual Income"}),(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsx)("span",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-help",children:"ℹ️"}),(0,n.jsx)("div",{className:"invisible group-hover:visible absolute z-10 w-48 p-2 mt-1 text-xs text-white bg-gray-800 dark:bg-gray-700 rounded shadow-lg -translate-x-1/2 left-1/2",children:"Your total projected income for the year, including all income sources and frequencies"})]})]}),(0,n.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t(g)})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),0===g&&(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"\uD83D\uDCA1 Start by adding your income sources to see your annual projection"})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Annual Expenses"}),(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsx)("span",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-help",children:"ℹ️"}),(0,n.jsx)("div",{className:"invisible group-hover:visible absolute z-10 w-48 p-2 mt-1 text-xs text-white bg-gray-800 dark:bg-gray-700 rounded shadow-lg -translate-x-1/2 left-1/2",children:"Your total projected expenses for the year, including recurring bills, installments, and one-time expenses"})]})]}),(0,n.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:t(u)})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})})]}),0===u&&(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"\uD83D\uDCA1 Add your expenses to track your annual spending patterns"})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Annual Net"}),(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsx)("span",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-help",children:"ℹ️"}),(0,n.jsx)("div",{className:"invisible group-hover:visible absolute z-10 w-48 p-2 mt-1 text-xs text-white bg-gray-800 dark:bg-gray-700 rounded shadow-lg -translate-x-1/2 left-1/2",children:"Your annual income minus expenses. This is what you have available for savings and investments"})]})]}),(0,n.jsx)("p",{className:"text-2xl font-bold ".concat(h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:t(h)})]}),(0,n.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat(h>=0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"),children:(0,n.jsx)("svg",{className:"w-6 h-6 ".concat(h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:h>=0?"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6":"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,n.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Savings Rate: ",p.toFixed(1),"%"]}),p>0&&p<20&&(0,n.jsx)("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"\uD83D\uDCA1 Aim for 20%+ savings rate"})]})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Monthly Flow"}),(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsx)("span",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-help",children:"ℹ️"}),(0,n.jsx)("div",{className:"invisible group-hover:visible absolute z-10 w-48 p-2 mt-1 text-xs text-white bg-gray-800 dark:bg-gray-700 rounded shadow-lg -translate-x-1/2 left-1/2",children:"Average monthly cash flow (income minus expenses). Positive means surplus, negative means deficit"})]})]}),(0,n.jsx)("p",{className:"text-2xl font-bold ".concat(h/12>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:t(h/12)})]}),(0,n.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat(h/12>=0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"),children:(0,n.jsx)("svg",{className:"w-6 h-6 ".concat(h/12>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:h/12>=0?"M7 11l5-5m0 0l5 5m-5-5v12":"M17 13l-5 5m0 0l-5-5m5 5V6"})})})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:h/12>=0?"✅ Positive cash flow":h/12>=-500?"⚠️ Tight cash flow":"\uD83D\uDEA8 Negative cash flow"})]})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Quick Actions"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,n.jsx)(i(),{href:"/income",className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Add Income"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Track income sources"})]})]})}),(0,n.jsx)(i(),{href:"/expenses",className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Add Expense"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Record expenses"})]})]})}),(0,n.jsx)(i(),{href:"/goals",className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Set Goal"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Create goals"})]})]})})]})]}),(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsx)(k,{userPlan:e.userPlan,className:"shadow-sm"}),(0,n.jsx)(O,{userPlan:e.userPlan,className:"shadow-sm"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Top Expense Categories"}),N.length>0?(0,n.jsx)("div",{className:"space-y-4",children:N.map(e=>{let[a,s]=e;return(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:L(a)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase().replace("_"," ")}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t(s)," per month"]})]})]}),(0,n.jsx)("div",{className:"text-right",children:(0,n.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(s/f*100).toFixed(1),"%"]})})]},a)})}):(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No expenses tracked yet"}),(0,n.jsx)(i(),{href:"/expenses",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Add your first expense"})]})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6",children:"Top Expense Months"}),w.length>0?(0,n.jsx)("div",{className:"space-y-4",children:(()=>{let e=Math.max(...w.map(e=>e.amount));return w.map((a,s)=>{let r=a.amount/e*100,i=a.amount===e;return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center ".concat(i?"bg-red-200 dark:bg-red-800":"bg-red-100 dark:bg-red-900"),children:(0,n.jsxs)("span",{className:"text-sm font-bold ".concat(i?"text-red-700 dark:text-red-300":"text-red-600 dark:text-red-400"),children:["#",s+1]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.monthName}),(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.month})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-lg font-bold ".concat(i?"text-red-700 dark:text-red-300":"text-red-600 dark:text-red-400"),children:t(a.amount)}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(a.amount/e*100).toFixed(0),"% of highest"]})]})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,n.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ease-out ".concat(i?"bg-gradient-to-r from-red-500 to-red-600 dark:from-red-400 dark:to-red-500":1===s?"bg-gradient-to-r from-red-400 to-red-500 dark:from-red-500 dark:to-red-600":"bg-gradient-to-r from-red-300 to-red-400 dark:from-red-600 dark:to-red-700"),style:{width:"".concat(r,"%"),minWidth:r>5?"auto":"8px"}})}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,n.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"0"}),(0,n.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:t(e)})]})]})]},a.month)})})()}):(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No expense data available"}),(0,n.jsx)(i(),{href:"/expenses",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Add expenses to see analysis"})]})]})]}),A.length>0&&(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"\uD83D\uDCA1 Smart Financial Suggestions"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Personalized recommendations to improve your financial health"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(0,n.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:A.length})," ","suggestions"]}),(0,n.jsx)(i(),{href:"/goal-plan",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm font-medium",children:"View All Details"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,n.jsx)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xl",children:"⚠️"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"High Priority"}),(0,n.jsx)("p",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:A.filter(e=>e.priority===o.bx.HIGH||e.priority===o.bx.CRITICAL).length})]})]})}),(0,n.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC8"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Potential Impact"}),(0,n.jsx)("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:t(A.reduce((e,t)=>e+Math.abs(t.estimatedImpact),0))})]})]})}),(0,n.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xl",children:"✅"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Actionable"}),(0,n.jsx)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:A.filter(e=>e.actionable).length})]})]})})]}),(0,n.jsx)("div",{className:"space-y-4",children:A.slice(0,6).map(e=>(0,n.jsx)("div",{className:"rounded-lg border-2 p-4 transition-all duration-200 hover:shadow-md ".concat(S(e.category)),children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white dark:bg-gray-800 flex items-center justify-center text-xl shadow-sm",children:E(e.category)})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,n.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100",children:e.title}),(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(I(e.priority)),children:[(0,n.jsx)("span",{className:"mr-1",children:D(e.priority)}),e.priority.toUpperCase()]}),e.actionable&&(0,n.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"✅ Actionable"})]}),(0,n.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3 text-sm",children:e.description}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,n.jsx)("span",{className:"font-medium",children:"Category:"})," ",e.category.charAt(0).toUpperCase()+e.category.slice(1)]}),(0,n.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,n.jsx)("span",{className:"font-medium",children:"Impact:"})," ",t(Math.abs(e.estimatedImpact)),"/month"]})]})]})]})})},e.id))}),A.length>6&&(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsxs)(i(),{href:"/goal-plan",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:["View All ",A.length," Suggestions",(0,n.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),(0,n.jsx)(T,{userPlan:e.userPlan,className:"shadow-sm"}),v.length>0&&(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Upcoming Goals (Next 6 Months)"}),(0,n.jsx)(i(),{href:"/goals",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm",children:"View All Goals"})]}),(0,n.jsx)("div",{className:"space-y-4",children:v.map(e=>{let a=Math.ceil((new Date(e.targetDate).getTime()-new Date().getTime())/864e5),s=e.currentAmount/e.targetAmount*100,r=a<0,i=a<=30&&a>=0;return(0,n.jsx)("div",{className:"p-4 border rounded-lg ".concat(r?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":i?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(r?"bg-red-100 dark:bg-red-900":i?"bg-yellow-100 dark:bg-yellow-900":"bg-blue-100 dark:bg-blue-900"),children:(0,n.jsx)("span",{className:"text-xl",children:R(e.category)})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,n.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.priority===o.bx.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":e.priority===o.bx.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t(e.currentAmount)," of"," ",t(e.targetAmount)," •"," ",C(e.targetDate)]}),(0,n.jsx)("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,n.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(s>=100?"bg-green-500 dark:bg-green-400":r?"bg-red-500 dark:bg-red-400":i?"bg-yellow-500 dark:bg-yellow-400":"bg-blue-500 dark:bg-blue-400"),style:{width:"".concat(Math.min(s,100),"%")}})})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,n.jsx)("span",{className:"text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 px-2 py-1 rounded",children:"Overdue"}),i&&(0,n.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 px-2 py-1 rounded",children:"Urgent"})]}),(0,n.jsx)("p",{className:"text-sm font-medium mt-1 ".concat(r?"text-red-600 dark:text-red-400":i?"text-yellow-600 dark:text-yellow-400":"text-gray-900 dark:text-gray-100"),children:r?"".concat(Math.abs(a)," days overdue"):"".concat(a," days left")}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.toFixed(1),"% complete"]})]})]})},e.id)})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,238,930,880,666,441,684,358],()=>t(6288)),_N_E=e.O()}]);